{"version":3,"sources":["js/app.js","js/gallery-modal.js","js/gallery-markup.js","index.js"],"names":["preview","original","description","refs","galleryList","document","querySelector","lightbox","lightboxOverlay","lightboxContent","lightboxImage","lightboxCloseButton","isOpenModal","evt","target","nodeName","preventDefault","classList","add","src","dataset","source","alt","isCloseModal","remove","isCloseModalEscAndOverlay","currentTarget","code","onKeyPressArrowLeft","gallery","map","currentSrc","indexOf","currentAlt","length","onKeyPressArrowRight","addEventListener","window","createsImg","parent","imgEl","createElement","appendChild","createsLink","item","linkEl","href","createsList","liEl","galleryMarkup","arg","items","append"],"mappings":"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","file":"src.233f0866.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n    description: \"Hokkaido Flower\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n    description: \"Container Haulage Freight\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n    description: \"Aerial Beach View\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n    description: \"Flower Blooms\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n    description: \"Alpine Mountains\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n    description: \"Mountain Lake Sailing\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n    description: \"Alpine Spring Meadows\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n    description: \"Nature Landscape\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n    description: \"Lighthouse Coast Sea\",\n  },\n];\n","import gallery from './app.js';\n\nconst refs = {\n    galleryList: document.querySelector('.js-gallery'),\n    lightbox: document.querySelector('.lightbox'),\n    lightboxOverlay: document.querySelector('.lightbox__overlay'),\n    lightboxContent: document.querySelector('.lightbox__content'),\n    lightboxImage: document.querySelector('.lightbox__image'),\n    lightboxCloseButton: document.querySelector(\n        '[data-action=\"close-lightbox\"]',\n    ),\n};\n// console.log(refs.lightboxCloseButton);\n\nrefs.galleryList.addEventListener('click', isOpenModal);\nrefs.lightboxCloseButton.addEventListener('click', isCloseModal);\nrefs.lightboxOverlay.addEventListener(\n    'click',\n    isCloseModalEscAndOverlay,\n);\n\nwindow.addEventListener('keydown', isCloseModalEscAndOverlay);\nwindow.addEventListener('keydown', onKeyPressArrowLeft);\nwindow.addEventListener('keydown', onKeyPressArrowRight);\n\n// отрытие модалки\nfunction isOpenModal(evt) {\n    if (evt.target.nodeName !== 'IMG') {\n        return;\n    }\n    evt.preventDefault();\n\n    refs.lightbox.classList.add('is-open');\n    refs.lightboxImage.src = evt.target.dataset.source;\n    refs.lightboxImage.alt = evt.target.alt;\n}\n// закрытие модалки\n\nfunction isCloseModal(evt) {\n    refs.lightbox.classList.remove('is-open');\n    refs.lightboxImage.src = '';\n    refs.lightboxImage.alt = '';\n}\n\n// Закрытие оверлей\n// function isCloseOverlay(evt) {\n//     if (evt.currentTarget === evt.target) {\n//         isCloseModal();\n//     }\n// }\n\n// Клавиши\n\nfunction isCloseModalEscAndOverlay(evt) {\n    // console.log(evt.code);\n    if (evt.currentTarget === evt.target || evt.code === 'Escape') {\n        isCloseModal();\n    }\n}\n\nfunction onKeyPressArrowLeft(evt) {\n    // console.log(evt.code);\n    if (evt.code === 'ArrowLeft') {\n        const src = gallery.map(({ original }) => original);\n        const alt = gallery.map(({ description }) => description);\n\n        let currentSrc = src.indexOf(refs.lightboxImage.src);\n        let currentAlt = alt.indexOf(refs.lightboxImage.alt);\n\n        if (currentSrc === 0 && currentAlt === 0) {\n            currentSrc = src.length;\n            currentAlt = alt.length;\n        }\n\n        refs.lightboxImage.src = src[currentSrc - 1];\n        refs.lightboxImage.alt = alt[currentAlt - 1];\n    }\n}\n\nfunction onKeyPressArrowRight(evt) {\n    if (evt.code === 'ArrowRight') {\n        const src = gallery.map(({ original }) => original);\n        const alt = gallery.map(({ description }) => description);\n\n        let currentSrc = src.indexOf(refs.lightboxImage.src);\n        let currentAlt = alt.indexOf(refs.lightboxImage.alt);\n\n        if (\n            currentSrc + 1 > src.length - 1 &&\n            currentAlt + 1 > alt.length - 1\n        ) {\n            currentAlt = -1;\n            currentSrc = -1;\n        }\n        refs.lightboxImage.src = src[currentSrc + 1];\n        refs.lightboxImage.alt = alt[currentAlt + 1];\n    }\n}\n","import gallery from './app.js';\n\nconst galleryList = document.querySelector('.js-gallery');\n\nconst createsImg = ({ preview, original, description }, parent) => {\n    const imgEl = document.createElement('img');\n\n    imgEl.classList.add('gallery__image');\n    imgEl.src = preview;\n    imgEl.dataset.source = original;\n    imgEl.alt = description;\n\n    parent.appendChild(imgEl);\n};\n\nconst createsLink = (item, parent) => {\n    const linkEl = document.createElement('a');\n\n    const { original } = item;\n\n    linkEl.classList.add('gallery__link');\n    linkEl.href = original;\n\n    // калбек для картинки\n\n    createsImg(item, linkEl);\n\n    parent.appendChild(linkEl);\n};\n\nconst createsList = item => {\n    const liEl = document.createElement('li');\n    liEl.classList.add('gallery__item');\n\n    // калбек для ссылки\n    createsLink(item, liEl);\n    return liEl;\n};\n\nconst galleryMarkup = arg => {\n    const items = arg.map(item => createsList(item));\n\n    galleryList.append(...items);\n};\n\ngalleryMarkup(gallery);\n","import './sass/main.scss';\nimport './js/app';\nimport './js/gallery-modal';\nimport './js/gallery-markup';\n"]}